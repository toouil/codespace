import{r as i,j as e,a,u}from"./app-xtGLZL-7.js";import{h as x,i as h,j as p,k as f,L as j,l as N,m as v,n as b}from"./index-BIcDevOB.js";function g({setOpenProfileOption:s,user:t}){const n=i.useRef(null);return i.useEffect(()=>{const r=()=>{setTimeout(()=>{s(!1)},10)};return document.addEventListener("click",r,!0),()=>{document.removeEventListener("click",r,!0)}},[n]),e.jsxs("aside",{className:"profile_options container content_center y",ref:n,children:[e.jsxs(a,{href:route("profile",{username:t==null?void 0:t.username}),className:"profile_options_items f",children:[e.jsx(x,{}),e.jsx("span",{className:"profile_options_items_text",children:"Profile"})]}),e.jsxs(a,{href:route("settings.profile"),className:"profile_options_items s",children:[e.jsx(h,{}),e.jsx("span",{className:"profile_options_items_text",children:"Settings"})]}),e.jsx("div",{className:"divider_x"}),e.jsxs(a,{className:"profile_options_items f logout",method:"post",href:route("logout"),as:"button",children:[e.jsx(p,{}),e.jsx("span",{className:"profile_options_items_text",children:"Log out"})]})]})}function l({smallScreen:s,setOpenSidebarToFalse:t}){const n=i.useRef(null);return i.useEffect(()=>(document.addEventListener("click",t,!0),window.addEventListener("resize",t,!0),()=>{document.removeEventListener("click",t,!0),window.removeEventListener("resize",t,!0)}),[n]),e.jsxs("aside",{className:`side_bar container${s?" small":""}`,ref:n,onMouseLeave:s&&t,children:[e.jsx("span",{className:"side_bar_item",children:e.jsx(a,{href:"/",className:"side_bar_item_link content_center",children:"Posts"})}),e.jsx("span",{className:"side_bar_item",children:e.jsx(a,{href:"/categories",className:"side_bar_item_link content_center",children:"Assignments"})}),e.jsx("span",{className:"side_bar_item",children:e.jsx(a,{href:"/users",className:"side_bar_item_link content_center",children:"Users"})}),e.jsx("span",{className:"side_bar_item",children:e.jsx(a,{href:"/Leaderboard",className:"side_bar_item_link content_center",children:"Leaderboard"})})]})}function k({user:s}){const[t,n]=i.useState(!1),[r,o]=i.useState(!1),[c,L]=i.useState(10),{toggleTheme:d}=u(),m=()=>{setTimeout(()=>{o(!1)},10)};return i.useEffect(()=>(window.Echo.private(`App.Models.User.${s.id}`).notification(_=>{console.log(_.message)}),()=>{window.Echo.leave(`App.Models.User.${s.id}`)}),[]),e.jsxs(e.Fragment,{children:[e.jsxs("nav",{id:"navbar",children:[e.jsx("div",{className:"nav_right_part",children:e.jsx("button",{type:"button",className:"expand_menu_btn content_center",onClick:()=>o(!0),children:e.jsx(f,{})})}),e.jsx("div",{className:"nav_middle_part",children:e.jsx(a,{href:"/",className:"nav_logo_link",children:e.jsx(j,{})})}),e.jsxs("div",{className:"nav_left_part content_center",children:[e.jsx("div",{className:"nav_item theme",children:e.jsxs("button",{"data-title":"Theme mode",className:"theme_btn btn content_center",type:"button",onClick:d,children:[e.jsx(N,{}),e.jsx(v,{})]})}),e.jsx("div",{className:"nav_item mail",children:e.jsxs("button",{className:"mail_btn btn content_center",type:"button","data-title":"Notifications",children:[e.jsx("span",{className:"mail_count content_center",children:c>9?"9+":c}),e.jsx("span",{className:"mail_icon",children:e.jsx(b,{})})]})}),e.jsx("div",{className:"nav_item profile",children:e.jsx("button",{className:"profile_btn btn content_center btn",type:"button",onClick:()=>n(!0),"data-title":"Account",children:e.jsx("img",{src:s==null?void 0:s.picture,alt:"profile_picture"})})})]})]}),t&&e.jsx(g,{setOpenProfileOption:n,user:s}),r&&e.jsx(l,{smallScreen:!0,setOpenSidebarToFalse:m})]})}function y({user:s,children:t}){return e.jsxs(e.Fragment,{children:[e.jsx(k,{user:s}),e.jsxs("main",{className:"home_layout_page w_100",children:[e.jsx(l,{}),t]})]})}export{y as A};
